<!DOCTYPE html>
<html>
<head>
  <title>Redirection | Aswin's Good Apps</title>
</head>
<body>
  
  <button onclick="test()">test</button>
  
  <script>
function test() {
  // Get the current URL
  const currentUrl = window.location.href;

  // Find the position of 'token=' in the URL
  const tokenIndex = currentUrl.indexOf('token=');

  // Check if 'token=' exists in the URL
  if (tokenIndex !== -1) {
    // Extract the substring after 'token='
    const tokenSubstring = currentUrl.substring(tokenIndex + 6); // 'token='.length is 6

    // Now you have the 'token' value from the URL
    console.log('Token:', tokenSubstring);

    // Decode the token and access the payload if needed
    const payloadBase64 = tokenSubstring.split('.')[1];
    const payload = window.atob(payloadBase64);
    const decodedPayload = JSON.parse(payload);
    console.log('Name:', decodedPayload.given_name);
    console.log('Expiration Time:', decodedPayload.exp);
  } else {
    console.log('Token not found in URL.');
  }
}
  </script>
</body>
</html>
