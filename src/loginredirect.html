<!DOCTYPE html>
<html>
<head>
  <title>Redirection | Aswin's Good Apps</title>
</head>
<body>
  
  <button onclick="test()">test</button>
  
  <script>
    alert(window.location.href);
function test() {
  document.addEventListener('DOMContentLoaded', function () {
    // Get the current URL
    const currentUrl = window.location.href;

    // Create a URLSearchParams object to parse the URL query parameters
    const urlParams = new URLSearchParams(currentUrl);

    // Get the value of the 'token' parameter
    const token = urlParams.get('token');

    // Now you have the 'token' value from the URL
    console.log('Token:', token);

    // Check if token exists
    if (token) {
      const payloadBase64 = token.split('.')[1];
      const payload = window.atob(payloadBase64);
      const decodedPayload = JSON.parse(payload);
      console.log('Name:', decodedPayload.given_name);
      console.log('Expiration Time:', decodedPayload.exp);
    } else {
      console.log('Token not found in URL.');
    }
  });
}
  </script>
</body>
</html>
